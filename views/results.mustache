<!DOCTYPE html>
<link rel="stylesheet" href="../../stylesheets/results.css">
<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>		
<script src="../../javascripts/results.js"></script>
<div class="container">
		<div class="topresultsWrapper">
		<form method="post" action="" id="resultsForm" >
		<button type="submit" id="getNewMsg" onclick="limitPost()">Get New Messages</button>
		<button type="submit" id="sendToGraph" onclick="staticGraphPost()">Show Static Graph</button>
		<button type="submit" id="sendToGoogleMaps" onclick="googlePost()">Google Maps</button>
			<div class = "limitWrapper">		
			<label for="limitSelector">Select how many messeges to get</label>
  			<select name="limit" class="customLimitSelector">
				{{#limit}}
				<option value="{{n}}">{{n}}</option>
				{{/limit}}
  			</select>
			</div>
			<div class="filterDiv" >
				<label for="filter">Write comma-seperated tags for filter</label>
				<input name="filter" type="text"  class="filterInputField" value="{{keywords}}">
			</div>
		</form>
		
			
		</div>
        	<table class="five columns alpha resultsMsg">
			<tr class="partialContainer top">
				<td class="message">Messages</td>
			</tr>
			{{#messages}}
				<tr id="partial{{_id}}" onClick="showFullMessage('{{_id}}');" class="partailMessageContainer">
				<td class="partialText">{{text}}</td>
				<td class="partialDate">{{created_at}}</td>
				<tr>
			{{/messages}}

		</table>
		{{#messages}}
			<div class="hidden ten columns omega fixedPosition" id="full{{_id}}">
			<div class="fullMessageContainer">	
				<h3> Message: </h3>
				<p class="messageText  padder">{{text}}</p>
				<h3> Date: </h3>
				<p class="messageDate">{{date_created}}</p>
				<h3> Author: </h3>
				<p class="messageAuthor">{{author}}</p>
				<h3> Coordinates: </h3>
				<p class="messageCoordinates">{{coords}}</p>
				<h3> Tags: </h3>
				<p class="messageTags">{{tags}}</p>
			</div>
			</div>
		{{/messages}}
</div>
